<Page
    x:Class="HyPlayer.Pages.Settings"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:hyplayer="using:HyPlayer"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="using:Microsoft.UI.Xaml.Controls"
    xmlns:controls1="using:HyPlayer.Controls"
    xmlns:controls2="using:Microsoft.Toolkit.Uwp.UI.Controls"
    xmlns:controls3="using:CommunityToolkit.Labs.WinUI"
    xmlns:classes="using:HyPlayer.Classes"
    NavigationCacheMode="Disabled"
    mc:Ignorable="d">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="75" />
            <RowDefinition />
        </Grid.RowDefinitions>

        <ContentDialog x:Name="AboutRomajiDialog" 
                       Title="关于此选项"
                       CloseButtonText="好的"
                       CloseButtonStyle="{StaticResource AccentButtonStyle}">
            <RichTextBlock>
                <Paragraph>
                    HyPlayer支持使用:
                    <LineBreak />
                    &#x27A4; 网易云音乐: 网易云音乐提供的罗马字歌词
                    <LineBreak />
                    &#x27A4; Kawazu: 内置罗马字转换器 (需下载资源包)
                    <LineBreak />
                    &#x27A4; 自动选择：优先使用网易云音乐提供的罗马字
                    <LineBreak />
                    如当前歌词网易云音乐没有提供罗马字，则使用 Kawazu 进行转换
                </Paragraph>
            </RichTextBlock>
        </ContentDialog>

        <TextBlock
            Grid.Row="0"
            Margin="24,24,24,0"
            CharacterSpacing="80"
            FontSize="40"
            FontWeight="Bold"
            Text="设置" />
        <controls1:PivotView Grid.Row="1" FontFamily="Black">
            <controls1:PivotView.Resources>
                <Style TargetType="ScrollBar" BasedOn="{StaticResource DefaultScrollBarStyle}">
                    <Setter Property="Margin" Value="0,0,0,120"/>
                </Style>
            </controls1:PivotView.Resources>
            <controls1:PivotEx>
                <PivotItem FontFamily="Thick" Header="歌词设置">
                    <ScrollViewer Margin="0,48,0,0" VerticalScrollMode="Enabled">
                        <StackPanel
                            x:Name="StackPanelLyricSet"
                            Margin="20,0,20,150"
                            HorizontalAlignment="Stretch"
                            Orientation="Vertical"
                            Spacing="20">
                            <controls3:SettingsExpander
                                HorizontalAlignment="Stretch"
                                HorizontalContentAlignment="Stretch"
                                Header="罗马字设置"
                                IsExpanded="True">
                                <controls3:SettingsExpander.HeaderIcon>
                                    <FontIcon Glyph="&#xE8C1;"/>
                                </controls3:SettingsExpander.HeaderIcon>
                                    
                                <controls3:SettingsExpander.Transitions>
                                    <TransitionCollection>
                                        <RepositionThemeTransition />
                                    </TransitionCollection>
                                </controls3:SettingsExpander.Transitions>
                                <controls3:SettingsExpander.Items>

                                    <controls3:SettingsCard x:Name="RomajiStatus" Header="获取中...">
                                        
                                        <Button
                                            x:Name="ButtonDownloadRomaji"
                                            HorizontalAlignment="Right"
                                            Click="ButtonBase_OnClick"
                                            Content="获取罗马字资源文件" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="罗马字源" Description="切歌后生效">
                                        <ComboBox
                                            x:Name="RomajiSource"
                                            HorizontalAlignment="Right"
                                            SelectedIndex="{x:Bind hyplayer:Common.Setting.LyricRomajiSource, Mode=TwoWay, Converter={StaticResource EnumToIntConverter}}">
                                            <ComboBoxItem Content="不转换" />
                                            <ComboBoxItem Content="自动选择" />
                                            <ComboBoxItem Content="网易云音乐" />
                                            <ComboBoxItem Content="Kawazu" />
                                        </ComboBox>
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard >
                                        <HyperlinkButton x:Name="AboutRomaji" Content="关于此选项" Click="AboutRomaji_Click"/>
                                    </controls3:SettingsCard>

                                </controls3:SettingsExpander.Items>
                            </controls3:SettingsExpander>

                            <controls3:SettingsExpander
                                HorizontalAlignment="Stretch"
                                HorizontalContentAlignment="Stretch"
                                Header="歌词大小"
                                HeaderIcon="FontSize"
                                IsExpanded="True">
                                <controls3:SettingsExpander.Transitions>
                                    <TransitionCollection>
                                        <RepositionThemeTransition />
                                    </TransitionCollection>
                                </controls3:SettingsExpander.Transitions>
                                <controls3:SettingsExpander.Items>
                                    <controls3:SettingsCard Header="歌词大小" Description="0为自动">
                                        <controls:NumberBox
                                            x:Name="LyricSize"
                                            MinWidth="100"
                                            HorizontalAlignment="Right"
                                            LargeChange="5"
                                            SmallChange="1"
                                            Minimum="0"
                                            SpinButtonPlacementMode="Compact"
                                            Value="{x:Bind hyplayer:Common.Setting.lyricSize, Mode=TwoWay}"
                                            ValueChanged="LyricSize_OnValueChanged"/>
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="罗马字大小">
                                        <controls:NumberBox
                                            x:Name="RomajiSize"
                                            MinWidth="100"
                                            HorizontalAlignment="Right"
                                            LargeChange="5"
                                            SmallChange="1"
                                            Minimum="1"
                                            SpinButtonPlacementMode="Compact"
                                            Value="{x:Bind hyplayer:Common.Setting.romajiSize, Mode=TwoWay}"
                                            ValueChanged="LyricSize_OnValueChanged"/>
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="焦点歌词放大大小">
                                        <controls:NumberBox
                                            x:Name="LyricScaleSize"
                                            MinWidth="100"
                                            HorizontalAlignment="Right"
                                            LargeChange="5"
                                            SmallChange="1"
                                            Minimum="0"
                                            SpinButtonPlacementMode="Compact"
                                            Value="{x:Bind hyplayer:Common.Setting.lyricScaleSize, Mode=TwoWay}"
                                            ValueChanged="LyricSize_OnValueChanged"/>
                                    </controls3:SettingsCard>
                                </controls3:SettingsExpander.Items>
                            </controls3:SettingsExpander>

                            <!--<CheckBox
                                x:Name="CheckBoxLyricShadow"
                                Content="开启歌词阴影"
                                IsChecked="{x:Bind hyplayer:Common.Setting.lyricDropshadow, Mode=TwoWay}" />-->
                            <controls3:SettingsExpander
                                HorizontalAlignment="Stretch"
                                HorizontalContentAlignment="Stretch"
                                Header="歌词显示"
                                IsExpanded="True">
                                <controls3:SettingsExpander.HeaderIcon>
                                    <FontIcon Glyph="&#xE18F;"/>
                                </controls3:SettingsExpander.HeaderIcon>
                                <controls3:SettingsExpander.Transitions>
                                    <TransitionCollection>
                                        <RepositionThemeTransition />
                                    </TransitionCollection>
                                </controls3:SettingsExpander.Transitions>

                                <controls3:SettingsExpander.Items>
                                    <controls3:SettingsCard Header="歌词特效等级">
                                        <ComboBox HorizontalAlignment="Right" SelectedIndex="{x:Bind hyplayer:Common.Setting.PerformanceMode, Mode=TwoWay}">
                                            <ComboBoxItem Content="全部关闭" />
                                            <ComboBoxItem Content="部分开启" />
                                            <ComboBoxItem Content="特效全开" />
                                        </ComboBox>
                                    </controls3:SettingsCard>

                                    <controls3:SettingsCard Header="使用逐字歌词 (试验性功能)" >
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.karaokLyric, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    
                                    <controls3:SettingsCard Header="歌词主色调">
                                        <ComboBox HorizontalAlignment="Right" SelectedIndex="{x:Bind hyplayer:Common.Setting.lyricColor, Mode=TwoWay}">
                                            <ComboBoxItem Content="自动" />
                                            <ComboBoxItem Content="白色" />
                                            <ComboBoxItem Content="黑色" />
                                            <ComboBoxItem Content="唱片主色调" />
                                        </ComboBox>
                                    </controls3:SettingsCard>

                                    <controls3:SettingsCard Header="显示颜色自定义选项" Description="重置即为歌词主色调">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind IsAdvancedLyricColorSettingsShow, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    
                                    <controls3:SettingsCard Header="非焦点歌词颜色 (普通歌词)" Visibility="{x:Bind IsAdvancedLyricColorSettingsShow, Mode=OneWay}">
                                        <Grid MinWidth="10" HorizontalAlignment="Right">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>
                                            <controls2:ColorPickerButton
                                                x:Name="PureLyricIdle"
                                                Grid.Column="0"
                                                SelectedColor="{x:Bind hyplayer:Common.Setting.pureLyricIdleColor, Mode=OneWay, Converter={StaticResource NullableColorToColorConverter}}">
                                                <controls2:ColorPickerButton.ColorPickerStyle>
                                                    <Style TargetType="controls:ColorPicker">
                                                        <Setter Property="ColorSpectrumShape" Value="Box" />
                                                        <Setter Property="IsAlphaEnabled" Value="True" />
                                                        <Setter Property="IsHexInputVisible" Value="False" />
                                                    </Style>
                                                </controls2:ColorPickerButton.ColorPickerStyle>
                                            </controls2:ColorPickerButton>
                                            <Button Grid.Column="1" Click="ConfirmPureLyricIdleColor">确认</Button>
                                            <Button Grid.Column="2" Click="ResetPureLyricIdleColor">重置</Button>
                                        </Grid>

                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="焦点歌词颜色 (普通歌词)" Visibility="{x:Bind IsAdvancedLyricColorSettingsShow, Mode=OneWay}">
                                        <Grid MinWidth="10" HorizontalAlignment="Right">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>
                                            <controls2:ColorPickerButton
                                                x:Name="PureLyricFocusing"
                                                Grid.Column="0"
                                                SelectedColor="{x:Bind hyplayer:Common.Setting.pureLyricFocusingColor, Mode=OneWay, Converter={StaticResource NullableColorToColorConverter}}">
                                                <controls2:ColorPickerButton.ColorPickerStyle>
                                                    <Style TargetType="controls:ColorPicker">
                                                        <Setter Property="ColorSpectrumShape" Value="Box" />
                                                        <Setter Property="IsAlphaEnabled" Value="True" />
                                                        <Setter Property="IsHexInputVisible" Value="False" />
                                                    </Style>
                                                </controls2:ColorPickerButton.ColorPickerStyle>
                                            </controls2:ColorPickerButton>
                                            <Button Grid.Column="1" Click="ConfirmPureLyricFocusingColor">确认</Button>
                                            <Button Grid.Column="2" Click="ResetPureLyricFocusingColor">重置</Button>
                                        </Grid>

                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="焦点歌词颜色 (逐字歌词)" Visibility="{x:Bind IsAdvancedLyricColorSettingsShow, Mode=OneWay}">
                                        <Grid MinWidth="10" HorizontalAlignment="Right">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>
                                            <controls2:ColorPickerButton
                                                x:Name="KaraokLyricFocusing"
                                                Grid.Column="0"
                                                SelectedColor="{x:Bind hyplayer:Common.Setting.karaokLyricFocusingColor, Mode=OneWay, Converter={StaticResource NullableColorToColorConverter}}">
                                                <controls2:ColorPickerButton.ColorPickerStyle>
                                                    <Style TargetType="controls:ColorPicker">
                                                        <Setter Property="ColorSpectrumShape" Value="Box" />
                                                        <Setter Property="IsAlphaEnabled" Value="True" />
                                                        <Setter Property="IsHexInputVisible" Value="False" />
                                                    </Style>
                                                </controls2:ColorPickerButton.ColorPickerStyle>
                                            </controls2:ColorPickerButton>
                                            <Button Grid.Column="1" Click="ConfirmKaraokLyricFocusingColor">确认</Button>
                                            <Button Grid.Column="2" Click="ResetKaraokLyricFocusingColor">重置</Button>
                                        </Grid>
                                    </controls3:SettingsCard>

                                    <controls3:SettingsCard Header="使用左对齐">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.lyricAlignment, Mode=TwoWay}"
                                            Toggled="LyricAlignment_OnToggled"/>
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="开启时启动热词">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.hotlyricOnStartup, Mode=TwoWay}"
                                            Toggled="HotLyricOnStartUp_Checked" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="使用 Toast 歌词 (不推荐)">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.noUseHotLyric, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="显示作词作曲信息">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.showComposerInLyric, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="自动合并歌词">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.MigrateLyrics, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                </controls3:SettingsExpander.Items>
                            </controls3:SettingsExpander>
                        </StackPanel>
                    </ScrollViewer>
                </PivotItem>
                <PivotItem FontFamily="Thick" Header="播放设置">
                    <ScrollViewer Margin="0,48,0,0" VerticalScrollMode="Enabled">
                        <StackPanel
                            Margin="20,0,20,150"
                            Orientation="Vertical"
                            Spacing="20">
                            <controls3:SettingsExpander
                                HorizontalAlignment="Stretch"
                                HorizontalContentAlignment="Stretch"
                                Header="音质设置"
                                HeaderIcon="MusicInfo"
                                IsExpanded="True">
                                <controls3:SettingsExpander.Transitions>
                                    <TransitionCollection>
                                        <RepositionThemeTransition />
                                    </TransitionCollection>
                                </controls3:SettingsExpander.Transitions>
                                <controls3:SettingsExpander.Items>
                                <controls3:SettingsCard Header="在线播放音质">
                                    <ComboBox
                                        x:Name="ComboBoxSongBr"
                                        HorizontalAlignment="Right"
                                        SelectionChanged="ComboBoxSongBr_SelectionChanged">
                                        <ComboBoxItem Content="标准 (128k)" Tag="standard" />
                                        <ComboBoxItem Content="较高 (???k)" Tag="higher" />
                                        <ComboBoxItem Content="极高 (320k)" Tag="exhigh" />
                                        <ComboBoxItem Content="无损 (VIP)" Tag="lossless" />
                                        <ComboBoxItem Content="Hi-Res (VIP)" Tag="hires" />
                                        <ComboBoxItem Content="高清环绕声 (Spatial Audio)" Tag="jyeffect" />
                                        <ComboBoxItem Content="沉浸环绕声 (Surround Audio)" Tag="sky" />
                                        <ComboBoxItem Content="超清母带 (Master)" Tag="jymaster" />
                                    </ComboBox>
                                </controls3:SettingsCard>
                                <controls3:SettingsCard Header="歌曲下载音质">
                                    <ComboBox
                                        x:Name="ComboBoxSongDownloadBr"
                                        Grid.Row="1"
                                        HorizontalAlignment="Right"
                                        SelectionChanged="ComboBoxSongDownloadBr_SelectionChanged">
                                        <ComboBoxItem Content="标准 (128k)" Tag="standard" />
                                        <ComboBoxItem Content="较高 (???k)" Tag="higher" />
                                        <ComboBoxItem Content="极高 (320k)" Tag="exhigh" />
                                        <ComboBoxItem Content="无损 (VIP)" Tag="lossless" />
                                        <ComboBoxItem Content="Hi-Res (VIP)" Tag="hires" />
                                        <ComboBoxItem Content="高清环绕声 (Spatial Audio)" Tag="jyeffect" />
                                        <ComboBoxItem Content="沉浸环绕声 (Surround Audio)" Tag="sky" />
                                        <ComboBoxItem Content="超清母带 (Master)" Tag="jymaster" />
                                    </ComboBox>
                                </controls3:SettingsCard>
                            </controls3:SettingsExpander.Items>
                            </controls3:SettingsExpander>

                            <controls3:SettingsExpander
                                HorizontalAlignment="Stretch"
                                HorizontalContentAlignment="Stretch"
                                Header="渐入渐出"
                                IsExpanded="True">
                                <controls3:SettingsExpander.HeaderIcon>
                                    <FontIcon Glyph="&#xE799;"/>
                                </controls3:SettingsExpander.HeaderIcon>
                                <controls3:SettingsExpander.Transitions>
                                    <TransitionCollection>
                                        <RepositionThemeTransition />
                                    </TransitionCollection>
                                </controls3:SettingsExpander.Transitions>
                                <controls3:SettingsExpander.Items>
                                    <controls3:SettingsCard Header="播放暂停时">
                                        <ToggleSwitch
                                            x:Name="FadePause"
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.fadePause, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="播放暂停渐入渐出时间 单位: s" Visibility="{x:Bind hyplayer:Common.Setting.fadePause, Mode=OneWay}">
                                        <Slider
                                            x:Name="FadePauseTime"
                                            Width="256"
                                            HorizontalAlignment="Right"
                                            IsEnabled="{x:Bind hyplayer:Common.Setting.fadePause, Mode=OneWay}"
                                            Maximum="5"
                                            Minimum="0"
                                            
                                            ToolTipService.ToolTip="{x:Bind FadePauseTime.Value}"
                                            Value="{x:Bind hyplayer:Common.Setting.fadePauseTime, Mode=TwoWay}" StepFrequency="0.1" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="切歌时">
                                        <ToggleSwitch
                                            x:Name="FadeNext"
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.fadeNext, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="切歌渐入渐出时间 单位: s" Visibility="{x:Bind hyplayer:Common.Setting.fadeNext, Mode=OneWay}">
                                        <Slider
                                            x:Name="FadeNextTime"
                                            Width="256"
                                            HorizontalAlignment="Right"
                                            IsEnabled="{x:Bind hyplayer:Common.Setting.fadeNext, Mode=OneWay}"
                                            Maximum="10"
                                            Minimum="0"
                                            ToolTipService.ToolTip="{x:Bind FadeNextTime.Value}"
                                            Value="{x:Bind hyplayer:Common.Setting.fadeNextTime, Mode=TwoWay}" StepFrequency="0.1" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="使用基于播放进度切歌渐出方法" Visibility="{x:Bind hyplayer:Common.Setting.fadeNext, Mode=OneWay}">
                                        <ToggleSwitch
                                            x:Name="AdvFade"
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.advFade, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="手动切歌时不进行淡出" Visibility="{x:Bind hyplayer:Common.Setting.fadeNext, Mode=OneWay}">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.disableFadeWhenChangingSongManually, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                </controls3:SettingsExpander.Items>
                            </controls3:SettingsExpander>

                            <controls3:SettingsExpander
                                HorizontalAlignment="Stretch"
                                HorizontalContentAlignment="Stretch"
                                Header="随机设置"
                                HeaderIcon="RepeatAll"
                                IsExpanded="True">
                                <controls3:SettingsExpander.Transitions>
                                    <TransitionCollection>
                                        <RepositionThemeTransition />
                                    </TransitionCollection>
                                </controls3:SettingsExpander.Transitions>
                                <controls3:SettingsExpander.Items>
                                    <controls3:SettingsCard Header="使用不重复随机">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.shuffleNoRepeating, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="显示随机列表">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.displayShuffledList, Mode=TwoWay}"
                                            Visibility="{x:Bind hyplayer:Common.Setting.shuffleNoRepeating, Mode=OneWay}" />
                                    </controls3:SettingsCard>
                                </controls3:SettingsExpander.Items>
                            </controls3:SettingsExpander>
                            <controls3:SettingsExpander
                                HorizontalAlignment="Stretch"
                                HorizontalContentAlignment="Stretch"
                                IsExpanded="True"
                                Header="输出设置">
                                <controls3:SettingsExpander.HeaderIcon>
                                    <FontIcon Glyph="&#xE7F6;"/>
                                </controls3:SettingsExpander.HeaderIcon>
                                <controls3:SettingsExpander.Transitions>
                                    <TransitionCollection>
                                        <RepositionThemeTransition />
                                    </TransitionCollection>
                                </controls3:SettingsExpander.Transitions>
                                <controls3:SettingsExpander.Items>
                                    <controls3:SettingsCard Header="选择音频输出设备">
                                        <Button
                                            x:Name="BtnChangeAudioRenderDevice"
                                            HorizontalAlignment="Right"
                                            Click="BtnChangeAudioRenderDevice_Click"
                                            Content="选择" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard>
                                        <controls3:SettingsCard.Header>
                                        <HyperlinkButton
                                            x:Name="BtnChangeToDefaultAudioRenderDevice"
                                            Click="BtnChangeToDefaultAudioRenderDevice_Click"
                                            Content="恢复默认" />

                                        </controls3:SettingsCard.Header>
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="启用音量平衡">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.EnableAudioGain, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                </controls3:SettingsExpander.Items>
                            </controls3:SettingsExpander>
                            <controls3:SettingsExpander
                                HorizontalAlignment="Stretch"
                                HorizontalContentAlignment="Stretch"
                                Header="跳过 VIP 试听歌曲"
                                HeaderIcon="Forward"
                                IsExpanded="True">
                                <controls3:SettingsExpander.Transitions>
                                    <TransitionCollection>
                                        <RepositionThemeTransition />
                                    </TransitionCollection>
                                </controls3:SettingsExpander.Transitions>
                                <controls3:SettingsExpander.Items>
                                    <controls3:SettingsCard Header="播放时跳过">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.jumpVipSongPlaying, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="下载时跳过">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.jumpVipSongDownloading, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                </controls3:SettingsExpander.Items>
                            </controls3:SettingsExpander>
                            <controls3:SettingsExpander
                                HorizontalAlignment="Stretch"
                                HorizontalContentAlignment="Stretch"
                                Header="Last.FM设定"
                                IsExpanded="True">
                                <controls3:SettingsExpander.Transitions>
                                    <TransitionCollection>
                                        <RepositionThemeTransition />
                                    </TransitionCollection>
                                </controls3:SettingsExpander.Transitions>
                                <controls3:SettingsExpander.Items>
                                    <controls3:SettingsCard Header="上传播放记录至Last.FM">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.UseLastFMScrobbler, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="上传正在播放至Last.FM">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.UpdateLastFMNowPlaying, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard>
                                        <Grid>
                                    <StackPanel Orientation="Horizontal" Visibility="{x:Bind hyplayer:Common.Setting.LastFMLogined, Mode=OneWay}">
                                        <TextBlock Text="已登录账号：" Visibility="{x:Bind hyplayer:Common.Setting.LastFMLogined, Mode=OneWay}" />
                                        <TextBlock Text="{x:Bind hyplayer:Common.Setting.LastFMUserName, Mode=OneWay}" Visibility="{x:Bind hyplayer:Common.Setting.LastFMLogined, Mode=OneWay}" />
                                    </StackPanel>
                                    <Grid>
                                        <Button
                                            x:Name="LogoffLastFMAccount"
                                            Click="LogoffLastFMAccount_Click"
                                            Content="注销LastFM账号"
                                            Visibility="{x:Bind hyplayer:Common.Setting.LastFMLogined, Mode=OneWay}" />
                                        <Button
                                            x:Name="LoginLastFMAccount"
                                            Click="LoginLastFMAccount_Click"
                                            Content="登录LastFM账号"
                                            Visibility="{x:Bind hyplayer:Common.Setting.LastFMLogined, Mode=OneWay, Converter={StaticResource ReversedBooleanToVisibilityConverter}}" />
                                    </Grid></Grid>
                                </controls3:SettingsCard>
                                </controls3:SettingsExpander.Items>
                            </controls3:SettingsExpander>
                        </StackPanel>
                    </ScrollViewer>
                </PivotItem>
                <PivotItem FontFamily="Thick" Header="显示设置">
                    <ScrollViewer Margin="0,48,0,0" VerticalScrollMode="Enabled">
                       
                        <StackPanel Margin="20,0,20,160" Spacing="20">
                            <controls3:SettingsExpander
                                HorizontalAlignment="Stretch"
                                HorizontalContentAlignment="Stretch"
                                Header="颜色设置"
                                Description="需要重启 HyPlayer"
                                IsExpanded="False">
                                <controls3:SettingsExpander.HeaderIcon>
                                    <FontIcon Glyph="&#xE790;"/>
                                </controls3:SettingsExpander.HeaderIcon>
                                <controls3:SettingsExpander.Transitions>
                                    <TransitionCollection>
                                        <RepositionThemeTransition />
                                    </TransitionCollection>
                                </controls3:SettingsExpander.Transitions>
                                <controls3:SettingsExpander.Items>
                                    <controls3:SettingsCard Header="主题色">
                                        <ComboBox HorizontalAlignment="Right" SelectedIndex="{x:Bind hyplayer:Common.Setting.themeRequest, Mode=TwoWay}">
                                            <ComboBoxItem Content="跟随系统" />
                                            <ComboBoxItem Content="亮色" />
                                            <ComboBoxItem Content="暗色" />
                                        </ComboBox>
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="圆形播放按钮">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.playButtonAccentColor, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="播放栏按钮透明">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.playbarButtonsTransparent, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="开启标题栏沉浸">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.EnableTitleBarImmerse, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="播放条背景防糊优化">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.playbarBackgroundElay, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                </controls3:SettingsExpander.Items>
                            </controls3:SettingsExpander>

                            <controls3:SettingsExpander
                                HorizontalAlignment="Stretch"
                                HorizontalContentAlignment="Stretch"
                                HeaderIcon="List"
                                Header="歌词页面"
                                IsExpanded="True">
                                <controls3:SettingsExpander.Transitions>
                                    <TransitionCollection>
                                        <RepositionThemeTransition />
                                    </TransitionCollection>
                                </controls3:SettingsExpander.Transitions>
                                <controls3:SettingsExpander.Items>
                                    <controls3:SettingsCard Header="背景显示设置">
                                        <ComboBox HorizontalAlignment="Right" SelectedIndex="{x:Bind hyplayer:Common.Setting.expandedPlayerBackgroundType, Mode=TwoWay}">
                                            <ComboBoxItem Content="专辑封面模糊" />
                                            <ComboBoxItem Content="跟随唱片主色调" />
                                            <ComboBoxItem Content="跟随系统" />
                                            <ComboBoxItem Content="强制白色" />
                                            <ComboBoxItem Content="强制黑色" />
                                            <ComboBoxItem Content="桌面亚克力" />
                                            <ComboBoxItem Content="流光溢彩 (实验)" />
                                        </ComboBox>
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="唱片边框厚度" Description="0 为无边框">
                                        <Slider
                                            x:Name="SliderAlbumBorderLength"
                                            Width="256"
                                            HorizontalAlignment="Right"
                                            Maximum="280"
                                            Minimum="0"
                                            ToolTipService.ToolTip="{x:Bind SliderAlbumBorderLength.Value}"
                                            Value="{x:Bind hyplayer:Common.Setting.albumBorderLength, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="歌词页面封面阴影强度" Description="0为无阴影">
                                        <Slider
                                            x:Name="SliderAlbumShadowDepth"
                                            Width="256"
                                            HorizontalAlignment="Right"
                                            Maximum="20"
                                            Minimum="0"
                                            ToolTipService.ToolTip="{x:Bind SliderAlbumShadowDepth.Value}"
                                            ValueChanged="NBShadowDepth_OnValueChanged"
                                            Value="{x:Bind hyplayer:Common.Setting.expandedCoverShadowDepth, Mode=OneWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="圆形唱片">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.albumRound, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="唱片旋转">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.albumRotate, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="动效适配 BPM">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.animationAdaptBPM, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Visibility="{x:Bind hyplayer:Common.Setting.animationAdaptBPM, Mode=OneWay}" Header="轻柔动效">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.gentleBPMAnimation, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                </controls3:SettingsExpander.Items>
                            </controls3:SettingsExpander>
                            <controls3:SettingsExpander
                                HorizontalAlignment="Stretch"
                                HorizontalContentAlignment="Stretch"
                                Header="个性化"
                                IsExpanded="True">
                                <controls3:SettingsExpander.HeaderIcon>
                                    <FontIcon Glyph="&#xE771;"/>
                                </controls3:SettingsExpander.HeaderIcon>
                                <controls3:SettingsExpander.Transitions>
                                    <TransitionCollection>
                                        <RepositionThemeTransition />
                                    </TransitionCollection>
                                </controls3:SettingsExpander.Transitions>
                                <controls3:SettingsExpander.Items>
                                    <controls3:SettingsCard Header="使用亚克力窗口背景" Description="关闭此选项则为 Mica">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.acrylicBackgroundStatus, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="自定义Acrylic(需重启)" Visibility="{x:Bind hyplayer:Common.Setting.acrylicBackgroundStatus, Mode=OneWay}">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Top"
                                            IsOn="{x:Bind hyplayer:Common.Setting.CustomAcrylic, Mode=TwoWay}" />
                                    </controls3:SettingsCard>

                                    <controls3:SettingsCard Header="TintOpacity值" Visibility="{x:Bind hyplayer:Common.Setting.acrylicBackgroundStatus, Mode=OneWay, Converter={StaticResource NegationBoolToVisibilityConverter}}" >
                                        <Slider
                                            x:Name="TintOpacitySlider"
                                            Width="256"
                                            HorizontalAlignment="Right"
                                            IsEnabled="{x:Bind hyplayer:Common.Setting.CustomAcrylic, Mode=OneWay}"
                                            Maximum="1"
                                            Minimum="0"
                                            ToolTipService.ToolTip="{x:Bind TintOpacitySlider.Value}"
                                            Value="{x:Bind hyplayer:Common.Setting.CustomTintOpacity, Mode=TwoWay}" StepFrequency="0.01" ValueChanged="TintOpacity_ValueChanged" />
                                    </controls3:SettingsCard>

                                    <controls3:SettingsCard Header="TintOpacityLuminosity值" Visibility="{x:Bind hyplayer:Common.Setting.acrylicBackgroundStatus, Mode=OneWay, Converter={StaticResource NegationBoolToVisibilityConverter}}">
                                        <Slider
                                            x:Name="TintOpacityLuminositySlider"
                                            Width="256"
                                            HorizontalAlignment="Right"
                                            IsEnabled="{x:Bind hyplayer:Common.Setting.CustomAcrylic, Mode=OneWay}"
                                            Maximum="1"
                                            Minimum="0"
                                            ToolTipService.ToolTip="{x:Bind TintOpacityLuminositySlider.Value}"
                                            Value="{x:Bind hyplayer:Common.Setting.CustomTintLuminosityOpacity, Mode=TwoWay}" StepFrequency="0.01" ValueChanged="TintOpacityLuminosity_ValueChanged"/>
                                    </controls3:SettingsCard>

                                    <controls3:SettingsCard Header="预览Acrylic" Visibility="{x:Bind hyplayer:Common.Setting.acrylicBackgroundStatus, Mode=OneWay, Converter={StaticResource NegationBoolToVisibilityConverter}}">
                                        <Rectangle
                                                Grid.Column="1"
                                            x:Name="PreviewAcrylic"
                                                VerticalAlignment="Stretch"
                                            Height="75"
                                            Width="256"
                                            RadiusX="10"
                                            RadiusY="10"/>
                                    </controls3:SettingsCard>
                                    
                                    <controls3:SettingsCard Header="无图模式" Description="需重启应用">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.noImage, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="PlayBar 脱离窗口边缘">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.playBarMargin, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="歌词界面专辑封面不裁剪为正方形">
                                        <ToggleSwitch
                                            Grid.Row="2"
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.expandedPlayerFullCover, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="显示发现及评论入口">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.notClearMode, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="自动隐藏PlayBar">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.AutoHidePlaybar, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="自动隐藏PlayBar时间" Visibility="{x:Bind hyplayer:Common.Setting.AutoHidePlaybar, Mode=OneWay}">
                                        <Slider
                                            x:Name="AutoHidePlayBarTime"
                                            Width="256"
                                            HorizontalAlignment="Right"
                                            Maximum="10"
                                            Minimum="1"
                                            ToolTipService.ToolTip="{x:Bind AutoHidePlayBarTime.Value}"
                                            Value="{x:Bind hyplayer:Common.Setting.AutoHidePlaybarTime, Mode=TwoWay}"/>
                                    </controls3:SettingsCard>
                                </controls3:SettingsExpander.Items>
                            </controls3:SettingsExpander>

                            <controls3:SettingsExpander
                                HorizontalAlignment="Stretch"
                                HorizontalContentAlignment="Stretch"
                                Header="特效设置"
                                IsExpanded="True">
                                <controls3:SettingsExpander.HeaderIcon>
                                    <FontIcon Glyph="&#xE794;"/>
                                </controls3:SettingsExpander.HeaderIcon>
                                <controls3:SettingsExpander.Transitions>
                                    <TransitionCollection>
                                        <RepositionThemeTransition />
                                    </TransitionCollection>
                                </controls3:SettingsExpander.Transitions>
                                <controls3:SettingsExpander.Items>
                                    <controls3:SettingsCard Header="歌词页面使用亚克力背景" Description="否则为一般模糊">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.expandedUseAcrylic, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="播放条使用封面模糊背景" Description="否则为窗口亚克力">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.playbarBackgroundAcrylic, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="展开/收缩「歌词页面」动画">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.expandAnimation, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="播放条背景呼吸动画">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.playbarBackgroundBreath, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="歌词页面专辑封面呼吸动画" Description="与阴影冲突">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.expandAlbumBreath, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="表头启用封面主题色">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.listHeaderAcrylicBlur, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="歌单列表项背景模糊">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.itemOfListBackgroundAcrylicBlur, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="启用触摸手势控制 (歌词页面-专辑封面)">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.enableTouchGestureAction, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="触摸手势模式">
                                        <ComboBox HorizontalAlignment="Right" SelectedIndex="{x:Bind hyplayer:Common.Setting.gestureMode, Mode=TwoWay}">
                                            <ComboBoxItem Content="基本手势" />
                                            <ComboBoxItem Content="平移" />
                                            <ComboBoxItem Content="搓碟" />
                                            <ComboBoxItem Content="真·搓碟" />
                                        </ComboBox>
                                    </controls3:SettingsCard>
                                </controls3:SettingsExpander.Items>
                            </controls3:SettingsExpander>
                        </StackPanel>
                    </ScrollViewer>
                </PivotItem>
                <PivotItem FontFamily="Thick" Header="存储设置">
                    <ScrollViewer Margin="0,48,0,0" VerticalScrollMode="Enabled">
  
                        <StackPanel
                            Margin="20,0,20,150"
                            Orientation="Vertical"
                            Spacing="20">
                            <controls3:SettingsExpander
                                HorizontalAlignment="Stretch"
                                HorizontalContentAlignment="Stretch"
                                Header="路径设置"
                                IsExpanded="True">
                                <controls3:SettingsExpander.HeaderIcon>
                                    <FontIcon Glyph="&#xE28F;"/>
                                </controls3:SettingsExpander.HeaderIcon>
                                <controls3:SettingsExpander.Transitions>
                                    <TransitionCollection>
                                        <RepositionThemeTransition />
                                    </TransitionCollection>
                                </controls3:SettingsExpander.Transitions>
                                <controls3:SettingsExpander.Items>
                                    <controls3:SettingsCard Header="下载路径">
                                        <StackPanel
                                            HorizontalAlignment="Right"
                                            Orientation="Horizontal"
                                            Spacing="8">
                                            <TextBox
                                                x:Name="TextBoxDownloadDir"
                                                Width="256"
                                                IsReadOnly="True"
                                                Text="{x:Bind hyplayer:Common.Setting.downloadDir, Mode=OneWay}" />
                                            <Button
                                                x:Name="ButtonDownloadSelect"
                                                Click="ButtonDownloadSelect_OnClick"
                                                Content="选择" />
                                        </StackPanel>
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="搜索路径">
                                        <StackPanel
                                            HorizontalAlignment="Right"
                                            Orientation="Horizontal"
                                            Spacing="8">
                                            <TextBox
                                                x:Name="TextBoxSearchingDir"
                                                Width="256"
                                                IsReadOnly="True"
                                                Text="{x:Bind hyplayer:Common.Setting.searchingDir, Mode=OneWay}" />
                                            <Button
                                                x:Name="ButtonSearchingSelect"
                                                Click="ButtonSearchingSelect_OnClick"
                                                Content="选择" />
                                        </StackPanel>
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="缓存路径">
                                        <StackPanel
                                            HorizontalAlignment="Right"
                                            Orientation="Horizontal"
                                            Spacing="8">
                                            <TextBox
                                                x:Name="TextBoxCacheDir"
                                                Width="256"
                                                IsEnabled="{x:Bind hyplayer:Common.Setting.enableCache, Mode=OneWay}"
                                                Text="{x:Bind hyplayer:Common.Setting.cacheDir, Mode=OneWay}" />
                                            <Button
                                                x:Name="ButtonCacheSelect"
                                                Click="ButtonCacheSelect_OnClick"
                                                Content="选择"
                                                IsEnabled="{x:Bind hyplayer:Common.Setting.enableCache, Mode=OneWay}" />
                                        </StackPanel>
                                    </controls3:SettingsCard>
                                </controls3:SettingsExpander.Items>
                            </controls3:SettingsExpander>

                            <controls3:SettingsExpander
                                HorizontalAlignment="Stretch"
                                HorizontalContentAlignment="Stretch"
                                Header="名称设置"
                                HeaderIcon="Rename"
                                IsExpanded="True">
                                <controls3:SettingsExpander.Transitions>
                                    <TransitionCollection>
                                        <RepositionThemeTransition />
                                    </TransitionCollection>
                                </controls3:SettingsExpander.Transitions>
                                <controls3:SettingsExpander.Items>
                                    <controls3:SettingsCard Header="下载文件命名">
                                        <StackPanel
                                            HorizontalAlignment="Right"
                                            Orientation="Horizontal"
                                            Spacing="8">
                                            <TextBox Width="256" Text="{x:Bind hyplayer:Common.Setting.downloadFileName, Mode=TwoWay}" />
                                            <Button>
                                                <Button.Flyout>
                                                    <Flyout>
                                                        <RichTextBlock>
                                                            <Paragraph>
                                                                &#x27A4;<Bold>{$SINGER}</Bold>
                                                                : 歌手<LineBreak />
                                                                &#x27A4;<Bold>{$ALBUM}</Bold>
                                                                : 专辑<LineBreak />
                                                                &#x27A4;<Bold>{$SONGNAME}</Bold>
                                                                : 歌曲名<LineBreak />
                                                                &#x27A4;<Bold>{$INDEX}</Bold>
                                                                : 序号<LineBreak />
                                                                &#x27A4;<Bold>{$CDNAME}</Bold>
                                                                : CD 名称<LineBreak />
                                                            </Paragraph>
                                                        </RichTextBlock>
                                                    </Flyout>
                                                </Button.Flyout>
                                                <FontIcon FontFamily="{StaticResource SymbolThemeFontFamily}" Glyph="&#xE946;" />
                                            </Button>

                                        </StackPanel>
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="下载重名解决方法">
                                        <ComboBox HorizontalAlignment="Right" SelectedIndex="{x:Bind hyplayer:Common.Setting.downloadNameOccupySolution, Mode=TwoWay}">
                                            <ComboBoxItem Content="跳过" />
                                            <ComboBoxItem Content="覆盖" />
                                            <ComboBoxItem Content="追加 ID" />
                                            <ComboBoxItem Content="仅更新信息" />
                                        </ComboBox>
                                    </controls3:SettingsCard>
                                </controls3:SettingsExpander.Items>
                            </controls3:SettingsExpander>

                            <controls3:SettingsExpander
                                HorizontalAlignment="Stretch"
                                HorizontalContentAlignment="Stretch"
                                Header="下载选项"
                                HeaderIcon="Download"
                                IsExpanded="True">
                                <controls3:SettingsExpander.Transitions>
                                    <TransitionCollection>
                                        <RepositionThemeTransition />
                                    </TransitionCollection>
                                </controls3:SettingsExpander.Transitions>
                                <controls3:SettingsExpander.Items>
                                    <controls3:SettingsCard Header="下载歌词">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.downloadLyric, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="下载翻译">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.downloadTranslation, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="写音乐信息">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.writedownloadFileInfo, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="写网易云音乐信息">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.write163Info, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="使用 GBK 写内容 (请勿开启)">
                                        <ToggleSwitch
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            IsOn="{x:Bind hyplayer:Common.Setting.usingGBK, Mode=TwoWay}" />
                                    </controls3:SettingsCard>
                                    <controls3:SettingsCard Header="最大同时下载任务数">
                                        <controls:NumberBox
                                            MinWidth="10"
                                            HorizontalAlignment="Right"
                                            LargeChange="5"
                                            Maximum="100"
                                            Minimum="1"
                                            SmallChange="1"
                                            Value="{x:Bind hyplayer:Common.Setting.maxDownloadCount, Mode=TwoWay, UpdateSourceTrigger=LostFocus}" />
                                    </controls3:SettingsCard>
                                </controls3:SettingsExpander.Items>
                            </controls3:SettingsExpander>

                            <controls3:SettingsCard>
                                <controls3:SettingsCard.Header>
                                    <HyperlinkButton
                                x:Name="ClearHistory"
                                Click="ClearHistory_Click"
                                Content="清除历史记录">
                                <HyperlinkButton.Transitions>
                                    <TransitionCollection>
                                        <RepositionThemeTransition />
                                    </TransitionCollection>
                                </HyperlinkButton.Transitions>
                            </HyperlinkButton>
                                </controls3:SettingsCard.Header>
                            </controls3:SettingsCard>

                            
                        </StackPanel>
                    </ScrollViewer>
                </PivotItem>
                <PivotItem FontFamily="Thick" Header="实验室🧪">
                    <ScrollViewer Margin="0,48,0,0" VerticalScrollMode="Enabled">
                        <StackPanel
                            Margin="20,0,20,150"
                            Orientation="Vertical"
                            Spacing="12">
                            <controls:InfoBar IsOpen="True"
                                              IsClosable="False"
                                              Severity="Warning"
                                              Message="如无特别说明, 请勿随意修改此选项卡内容">
                                
                            </controls:InfoBar>

                            <controls3:SettingsCard Header="X-Real-IP" Description="置空不设置">
                                <controls3:SettingsCard.Content>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBox
                                    x:Name="TextBoxXREALIP"
                                    Width="256" />
                                        <Button
                                    x:Name="ButtonXREALIPSave"
                                    Margin="8,26,0,0"
                                    Click="ButtonXREALIPSave_OnClick"
                                    Content="设置" />
                                    </StackPanel>
                                </controls3:SettingsCard.Content>
                            </controls3:SettingsCard>

                            <controls3:SettingsCard>
                                <controls3:SettingsCard.Header>
                                    <StackPanel Orientation="Horizontal" Spacing="8">
                                        <TextBlock VerticalAlignment="Center">启用系统代理</TextBlock>
                                        <Button Content="?">
                                            <Button.Flyout>
                                                <Flyout>
                                                    <RichTextBlock>
                                                        <Paragraph>
                                                            HyPlayer支持使用系统代理作为请求的代理服务器
                                                            <LineBreak />
                                                            <Bold>请在设置代理后使用 cmd 运行下方解除网络环回 (Loopback) 指令</Bold>
                                                            <LineBreak />
                                                            <Bold>同时建议开启降级 HTTP</Bold>
                                                            <LineBreak />
                                                            请注意: 更改此选项之后需要重启 HyPlayer
                                                        </Paragraph>
                                                    </RichTextBlock>
                                                </Flyout>
                                            </Button.Flyout>
                                        </Button>
                                    </StackPanel>
                                </controls3:SettingsCard.Header>
                                <CheckBox 
                                x:Name="ProxyState"
                                Margin="0,0,-100,0"
                                IsChecked="{x:Bind hyplayer:Common.Setting.EnableProxy, Mode=TwoWay}"/>
                            </controls3:SettingsCard>


                            <controls3:SettingsCard Header="解除网络环回 (Loopback) 指令"
                                                    Description="请粘贴到 cmd 管理员模式中运行">
                                <TextBox
                                    HorizontalAlignment="Left"
                                    IsReadOnly="True"
                                    Text="CheckNetIsolation LoopbackExempt -a -n=&quot;48848aaaaaaccd.HyPlayer_jdagbttk64fq4&quot;" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="请求时降级HTTPS为HTTP">
                                <CheckBox
                                x:Name="UseHttpCheckBox"
                                Margin="0,0,-100,0"
                                IsChecked="{x:Bind hyplayer:Common.Setting.UseHttp, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="获取歌曲时降级HTTPS为HTTP">
                                <CheckBox
                                Margin="0,0,-100,0"
                                IsChecked="{x:Bind hyplayer:Common.Setting.UseHttpWhenGettingSongs, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="使用贪婪加载"
                                                    Description="自动加载更多内容, 3 秒一次请求, 可能会导致风控">
                                <CheckBox
                                Margin="0,0,-100,0"
                                IsChecked="{x:Bind hyplayer:Common.Setting.greedlyLoadPlayContainerItems, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="贪婪加载完成时自动将加载到的歌曲添加到播放列表">
                                <CheckBox
                                Margin="0,0,-100,0"
                                IsChecked="{x:Bind hyplayer:Common.Setting.AutoAddGreedilyLoadedSongsToPlayList, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="在播放时才获取播放链接">
                                <CheckBox
                                x:Name="LazySongUrlGetCheck"
                                Margin="0,0,-100,0"
                                IsChecked="{x:Bind hyplayer:Common.Setting.songUrlLazyGet, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="Xbox上隐藏指针"
                                                    Description="不要开启!">
                                <CheckBox
                                x:Name="XboxPointerSet"
                                Margin="0,0,-100,0"
                                IsChecked="{x:Bind hyplayer:Common.Setting.xboxHidePointer, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="频繁内存回收"
                                                    Description="开启后可能会频繁出现页面重载现象">
                                <CheckBox
                                x:Name="ForceMemoryCollect"
                                Margin="0,0,-100,0"
                                IsChecked="{x:Bind hyplayer:Common.Setting.forceMemoryGarbage, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="开启高级音乐历史存储 (超过 100 首)">
                                <CheckBox Margin="0,0,-100,0"
                                      IsChecked="{x:Bind hyplayer:Common.Setting.advancedMusicHistoryStorage, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="开启播放缓存"
                                                    Description="可能造成无法播放, 请勿轻易开启">
                                <CheckBox Margin="0,0,-100,0"
                                      IsChecked="{x:Bind hyplayer:Common.Setting.enableCache, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="本地文件扫描渐进式加载 (Progressive Loading)">
                                <CheckBox
                                      Margin="0,0,-100,0"
                                      IsChecked="{x:Bind hyplayer:Common.Setting.localProgressiveLoad, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="本地文件使用 TagLib 读取封面">
                                <CheckBox Margin="0,0,-100,0"
                                      IsChecked="{x:Bind hyplayer:Common.Setting.useTaglibPicture, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="私人 FM 时使用 私人 DJ">
                                <CheckBox Margin="0,0,-100,0" IsChecked="{x:Bind hyplayer:Common.Setting.useAiDj, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="开启 UI 音效">
                                <CheckBox
                                x:Name="ControlSoundCheck"
                                Margin="0,0,-100,0"
                                Checked="ControlSoundChecked"
                                IsChecked="{x:Bind hyplayer:Common.Setting.uiSound, Mode=TwoWay}"
                                Unchecked="ControlSoundUnChecked" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="同时开启传统SMTC控制"
                                                    Description="可能会减小后台闪退几率,重启后生效">
                                <CheckBox
                                x:Name="CBOldSMTC"
                                Margin="0,0,-100,0"
                                IsChecked="{x:Bind hyplayer:Common.Setting.ancientSMTC, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="启用安全本地文件访问" Description="可能会提高内存占用">
                                <CheckBox Margin="0,0,-100,0"
                                      IsChecked="{x:Bind hyplayer:Common.Setting.safeFileAccess, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="进行听歌打卡"
                                                    Description="将会把听歌数据上传网易云音乐同步">
                            <CheckBox Margin="0,0,-100,0"
                                      IsChecked="{x:Bind hyplayer:Common.Setting.doScrobble, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="SMTC 更新进度条"
                                                    Description="使用「热词」时需开启">
                                <CheckBox  Margin="0,0,-100,0"
                                      IsChecked="{x:Bind hyplayer:Common.Setting.progressInSMTC, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="输出高清图片到SMTC">
                            <CheckBox
                                x:Name="HighQualityCoverInSMTC"
                                Margin="0,0,-100,0"
                                Content=""
                                IsChecked="{x:Bind hyplayer:Common.Setting.highQualityCoverInSMTC, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="启用磁贴">
                                <CheckBox
                                x:Name="DisableTile"
                                Margin="0,0,-100,0"
                                IsChecked="{x:Bind hyplayer:Common.Setting.enableTile, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="启用磁贴背景"
                                                    Description="部分系统下可能导致磁贴不显示">
                                <CheckBox
                                x:Name="TileBackgroundAvailability"
                                Margin="0,0,-100,0"
                                IsChecked="{x:Bind hyplayer:Common.Setting.tileBackgroundAvailability, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard
                                Header="磁贴背景缓存至本地"
                                Description="Windows 10需打开此项才会显示磁贴">
                                <CheckBox
                                    x:Name="SaveTileBackgroundToLocalFolder"
                                    Margin="0,0,-100,0"
                                    IsChecked="{x:Bind hyplayer:Common.Setting.saveTileBackgroundToLocalFolder, Mode=TwoWay}" />
                            </controls3:SettingsCard>

                            <controls3:SettingsCard Header="使用高精度歌词计时器"
                                                    Description="对于部分歌曲的歌词更新率更高, 需重启 HyPlayer">
                                 <CheckBox
                                Margin="0,0,-100,0"
                                IsChecked="{x:Bind hyplayer:Common.Setting.highPreciseLyricTimer, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard Header="启用旧版主题（需重启应用）"
                                                    Description="可能会导致设置无法打开等严重问题，若出现异常，可通过个人主页右键头像或在首页关闭&#13;开发者不受理受此功能影响的问题">

                                <CheckBox
                                    Margin="0,0,-100,0"
                                    IsChecked="{x:Bind hyplayer:Common.Setting.IsOldThemeEnabled, Mode=TwoWay}" />
                            </controls3:SettingsCard>
                            <controls3:SettingsCard>
                                <controls3:SettingsCard.Header>
                                    <HyperlinkButton
                                        x:Name="ClearTileCache"
                                        Click="ClearTileCache_Click"
                                        Content="清除磁贴背景缓存" />
                                </controls3:SettingsCard.Header>
                            </controls3:SettingsCard>
                            <controls3:SettingsCard>
                                <controls3:SettingsCard.Header>
                                    <HyperlinkButton
                                        x:Name="RestartBtn"
                                        Margin="0,0,0,10"
                                        VerticalAlignment="Center"
                                        Click="RestartBtn_Click"
                                        Content="立即重启 HyPlayer"
                                        Visibility="Visible" />
                                </controls3:SettingsCard.Header>
                            </controls3:SettingsCard>
                            <controls3:SettingsCard>
                                <controls3:SettingsCard.Header>
                                    <HyperlinkButton
                                        x:Name="BtnXboxReserve"
                                        Click="BtnXboxReserve_Click"
                                        Content="Xbox 进后台模式" />
                                </controls3:SettingsCard.Header>
                            </controls3:SettingsCard>
                        </StackPanel>
                    </ScrollViewer>
                </PivotItem>
                <PivotItem FontFamily="Thick" Header="关于">
                    <ScrollViewer Margin="0,48,0,0" VerticalScrollMode="Enabled">
                        <Grid Margin="0,0,0,150">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="6*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <StackPanel
                                x:Name="AboutPanel"
                                Grid.Column="0"
                                Margin="0,0,0,24"
                                Orientation="Vertical">
                                <StackPanel
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Top"
                                    Orientation="Horizontal">
                                    <Image
                                        Width="128"
                                        Height="128"
                                        Source="/Assets/icon.png" />
                                    <TextBlock
                                        VerticalAlignment="Center"
                                        Style="{StaticResource HeaderTextBlockStyle}"
                                        Text="HyPlayer" />
                                </StackPanel>

                                <RichTextBlock
                                    Margin="0,0,10,0"
                                    HorizontalAlignment="Center"
                                    HorizontalTextAlignment="Center">

                                    <Paragraph Margin="0,15,0,0">This is an open-source project under GPL-v3 Licence</Paragraph>
                                    <Paragraph Margin="0,5,0,0">
                                        <Hyperlink NavigateUri="https://github.com/HyPlayer/HyPlayer">
                                            Github
                                        </Hyperlink>
                                        |<Hyperlink NavigateUri="https://notabug.org/HyPlayer/HyPlayer">
                                            NotABug
                                        </Hyperlink>
                                        |<Hyperlink NavigateUri="https://gitee.com/kengwang/HyPlayer">
                                            Gitee
                                        </Hyperlink>
                                    </Paragraph>
                                    <Paragraph Margin="0,5,0,0">Copyright © HyPlayer Develop Team 2022</Paragraph>
                                    <Paragraph>HyPlayer is licensed under the GNU General Public License v3.0</Paragraph>
                                </RichTextBlock>
                                <Grid
                                    MaxWidth="600"
                                    Margin="8,12,8,0"
                                    HorizontalAlignment="Center"
                                    ColumnSpacing="8">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Border
                                        Width="256"
                                        Height="80"
                                        Padding="13,10"
                                        BorderThickness="1"
                                        BorderBrush="{StaticResource CardBorderBrush}"
                                        Background="{StaticResource CardBackgroundFillColorDefaultBrush}"
                                        CornerRadius="{StaticResource ControlCornerRadius}">
                                        <Grid RowSpacing="8">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <StackPanel
                                                Grid.Row="0"
                                                VerticalAlignment="Top"
                                                Orientation="Horizontal">
                                                <FontIcon
                                                    Margin="0,1,0,0"
                                                    FontSize="16"
                                                    Glyph="&#xE946;" />
                                                <TextBlock
                                                    Margin="6,0,0,0"
                                                    FontSize="14"
                                                    FontWeight="SemiBold"
                                                    Text="版本信息" />
                                            </StackPanel>
                                            <TextBlock
                                                x:Name="VersionCode"
                                                Grid.Row="1"
                                                HorizontalAlignment="Left"
                                                VerticalAlignment="Top"
                                                d:Text="2.1.30"
                                                FontSize="13"
                                                Foreground="{StaticResource SystemControlForegroundBaseMediumBrush}"
                                                IsTextSelectionEnabled="True"
                                                TextAlignment="Left"
                                                TextWrapping="Wrap" />
                                        </Grid>
                                    </Border>
                                    <Border
                                        Grid.Column="1"
                                        Width="256"
                                        Height="80"
                                        Padding="13,10"
                                        BorderThickness="1"
                                        BorderBrush="{StaticResource CardBorderBrush}"
                                        Background="{StaticResource CardBackgroundFillColorDefaultBrush}"
                                        CornerRadius="{StaticResource ControlCornerRadius}">
                                        <Grid RightTapped="DeviceInfo_RightTapped" RowSpacing="8">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <StackPanel
                                                Grid.Row="0"
                                                VerticalAlignment="Top"
                                                Orientation="Horizontal">
                                                <FontIcon
                                                    Margin="0,1,0,0"
                                                    FontSize="16"
                                                    Glyph="&#xEA6C;" />
                                                <TextBlock
                                                    Margin="6,0,0,0"
                                                    FontSize="14"
                                                    FontWeight="SemiBold"
                                                    IsTextSelectionEnabled="True"
                                                    Text="设备识别码" />
                                            </StackPanel>
                                            <controls1:SelectableTextBox
                                                x:Name="DeviceInfo"
                                                Grid.Row="1"
                                                HorizontalAlignment="Left"
                                                FontSize="13"
                                                Foreground="{StaticResource SystemControlForegroundBaseMediumBrush}"
                                                TextWrapping="Wrap">
                                                <controls1:SelectableTextBox.ContextFlyout>
                                                    <MenuFlyout>
                                                        <MenuFlyoutItem
                                                            Click="CopyDeviceCode_Click"
                                                            Icon="Copy"
                                                            Text="复制设备识别码" />
                                                    </MenuFlyout>
                                                </controls1:SelectableTextBox.ContextFlyout>
                                            </controls1:SelectableTextBox>
                                        </Grid>
                                    </Border>
                                </Grid>
                                <Grid
                                    MaxWidth="600"
                                    Margin="10,8,8,0"
                                    HorizontalAlignment="Center"
                                    ColumnSpacing="8">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Border
                                        Width="256"
                                        Height="80"
                                        Padding="13,10"
                                        BorderThickness="1"
                                        BorderBrush="{StaticResource CardBorderBrush}"
                                        Background="{StaticResource CardBackgroundFillColorDefaultBrush}"
                                        CornerRadius="{StaticResource ControlCornerRadius}">
                                        <Grid RowSpacing="8">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <StackPanel
                                                Grid.Row="0"
                                                VerticalAlignment="Top"
                                                Orientation="Horizontal">
                                                <FontIcon
                                                    Margin="0,1,0,0"
                                                    FontSize="16"
                                                    Glyph="&#xED15;" />
                                                <TextBlock
                                                    Margin="6,0,0,0"
                                                    FontSize="14"
                                                    FontWeight="SemiBold"
                                                    Text="用户交流反馈 QQ 群" />
                                            </StackPanel>
                                            <controls1:SelectableTextBox
                                                Grid.Row="1"
                                                HorizontalAlignment="Left"
                                                VerticalAlignment="Top"
                                                Foreground="{StaticResource SystemControlForegroundBaseMediumBrush}"
                                                Text="1145646224" />
                                        </Grid>
                                    </Border>
                                    <Border
                                        Grid.Column="1"
                                        Width="256"
                                        Height="80"
                                        Padding="13,10"
                                        BorderThickness="1"
                                        BorderBrush="{StaticResource CardBorderBrush}"
                                        Background="{StaticResource CardBackgroundFillColorDefaultBrush}"
                                        CornerRadius="{StaticResource ControlCornerRadius}">
                                        <Grid RowSpacing="8">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <StackPanel
                                                Grid.Row="0"
                                                VerticalAlignment="Top"
                                                Orientation="Horizontal">
                                                <FontIcon
                                                    Margin="0,1,0,0"
                                                    FontSize="16"
                                                    Glyph="&#xE117;" />
                                                <TextBlock
                                                    Margin="6,0,0,0"
                                                    FontSize="14"
                                                    FontWeight="SemiBold"
                                                    Text="检查更新" />
                                            </StackPanel>
                                            <StackPanel Grid.Row="1" Orientation="Horizontal">

                                                <ComboBox
                                                    x:Name="UpdateSource"
                                                    HorizontalAlignment="Left"
                                                    SelectedIndex="{x:Bind hyplayer:Common.Setting.UpdateSource, Mode=TwoWay}">
                                                    <ComboBoxItem Content="Microsoft Store" />
                                                    <ComboBoxItem Content="App Center" />
                                                    <ComboBoxItem Content="App Center(Canary)" IsEnabled="{x:Bind hyplayer:Common.Setting.canaryChannelAvailability, Mode=OneWay}" />
                                                    <ComboBoxItem Content="GitHub" />
                                                </ComboBox>
                                                <Button
                                                    x:Name="CheckUpdate"
                                                    Margin="8,0,0,0"
                                                    VerticalAlignment="Top"
                                                    Click="CheckUpdate_Click"
                                                    Content="检查" />
                                            </StackPanel>

                                        </Grid>
                                    </Border>
                                </Grid>
                                <Border
                                    Height="80"
                                    MaxWidth="520"
                                    Margin="9,8,9,0"
                                    Padding="13,10"
                                    BorderThickness="1"
                                    BorderBrush="{StaticResource CardBorderBrush}"
                                    Background="{StaticResource CardBackgroundFillColorDefaultBrush}"
                                    CornerRadius="{StaticResource ControlCornerRadius}">
                                    <Grid RowSpacing="8">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="*" />
                                        </Grid.RowDefinitions>
                                        <StackPanel
                                            Grid.Row="0"
                                            VerticalAlignment="Top"
                                            Orientation="Horizontal">
                                            <FontIcon
                                                Margin="0,1,0,0"
                                                FontSize="16"
                                                Glyph="&#xE785;" />
                                            <TextBlock
                                                Margin="6,0,0,0"
                                                FontSize="14"
                                                FontWeight="SemiBold"
                                                Text="检查Canary渠道可用性" />
                                        </StackPanel>
                                        <Grid Grid.Row="1">
                                            <TextBox
                                                x:Name="canaryEmail"
                                                Height="32"
                                                Margin="0,0,60,0"
                                                PlaceholderText="输入邮箱" />
                                            <Button
                                                HorizontalAlignment="Right"
                                                Click="CheckCanaryChannelButton_Click"
                                                Content="检查" />
                                        </Grid>

                                    </Grid>
                                </Border>

                                <StackPanel Orientation="Horizontal" />
                            </StackPanel>
                            <StackPanel
                                x:Name="DeveloperPanel"
                                Grid.Row="1"
                                MaxWidth="800"
                                Margin="8,0"
                                DoubleTapped="StackPanel_DoubleTapped"
                                Spacing="12">

                                <Border
                                    Height="64"
                                    BorderThickness="1"
                                    BorderBrush="{StaticResource CardBorderBrush}"
                                    Background="{StaticResource CardBackgroundFillColorDefaultBrush}"
                                    CornerRadius="{StaticResource ControlCornerRadius}"
                                    Tapped="UIElement_OnTapped">

                                    <Grid Margin="8">
                                        <StackPanel Orientation="Horizontal" Spacing="12">
                                            <PersonPicture Height="44" ProfilePicture="https://thirdqq.qlogo.cn/g?b=sdk&amp;k=GibeJPa6pAcRMKgoHC9ibI4w&amp;s=100" />
                                            <StackPanel>
                                                <TextBlock
                                                    Margin="1,0,0,0"
                                                    Style="{StaticResource SubtitleTextBlockStyle}"
                                                    Text="Kengwang" />
                                                <StackPanel Orientation="Horizontal" Spacing="4">
                                                    <TextBlock Text="Developer" />
                                                    <TextBlock Foreground="{StaticResource SystemControlForegroundBaseMediumBrush}" Text="Stay Cool~" />
                                                </StackPanel>
                                            </StackPanel>
                                        </StackPanel>
                                        <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                            <HyperlinkButton Content="Github" NavigateUri="https://github.com/kengwang" />
                                            <HyperlinkButton Content="博客" NavigateUri="https://blog.kengwang.com.cn" />
                                            <HyperlinkButton Content="酷安@kengwang" NavigateUri="http://www.coolapk.com/u/1683034" />
                                            <HyperlinkButton Content="爱发电打赏" NavigateUri="https://afdian.net/@kengwang" />
                                        </StackPanel>
                                    </Grid>
                                </Border>
                                <Border
                                    Height="64"
                                    BorderThickness="1"
                                    BorderBrush="{StaticResource CardBorderBrush}"
                                    Background="{StaticResource CardBackgroundFillColorDefaultBrush}"
                                    CornerRadius="{StaticResource ControlCornerRadius}"
                                    Tapped="UIElement_OnTapped">
                                    <Grid Margin="8">
                                        <StackPanel Orientation="Horizontal" Spacing="12">
                                            <PersonPicture Height="44" ProfilePicture="https://thirdqq.qlogo.cn/g?b=sdk&amp;k=eHh3SVVDUJKHf1I5XD7CPg&amp;s=100" />
                                            <StackPanel>
                                                <TextBlock
                                                    Margin="1,0,0,0"
                                                    Style="{StaticResource SubtitleTextBlockStyle}"
                                                    Text="Aesthed" />
                                                <StackPanel Orientation="Horizontal" Spacing="4">
                                                    <TextBlock Text="Design" />
                                                    <TextBlock
                                                        d:Text=""
                                                        Foreground="{StaticResource SystemControlForegroundBaseMediumBrush}"
                                                        Text="Reap what I sow" />
                                                </StackPanel>
                                            </StackPanel>
                                        </StackPanel>
                                        <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                            <HyperlinkButton Content="Github" NavigateUri="https://github.com/aaaaaaccd" />
                                            <HyperlinkButton Content="酷安@Aesthed" NavigateUri="https://www.coolapk.com/u/2409682" />

                                        </StackPanel>
                                    </Grid>
                                </Border>
                                <Border
                                    Height="64"
                                    BorderThickness="1"
                                    BorderBrush="{StaticResource CardBorderBrush}"
                                    Background="{StaticResource CardBackgroundFillColorDefaultBrush}"
                                    CornerRadius="{StaticResource ControlCornerRadius}"
                                    Tapped="UIElement_OnTapped">
                                    <Grid Margin="8">
                                        <StackPanel Orientation="Horizontal" Spacing="12">
                                            <PersonPicture Height="44" ProfilePicture="https://himg.bdimg.com/sys/portraitn/item/0fd16570303132303134g930801000000" />
                                            <StackPanel>
                                                <TextBlock
                                                    Margin="1,0,0,0"
                                                    Style="{StaticResource SubtitleTextBlockStyle}"
                                                    Text="EP012014" />
                                                <StackPanel Orientation="Horizontal" Spacing="4">
                                                    <TextBlock Text="Developer" />
                                                    <TextBlock Foreground="{StaticResource SystemControlForegroundBaseMediumBrush}" Text="Solidarity Forever~" />
                                                </StackPanel>
                                            </StackPanel>
                                        </StackPanel>
                                        <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                            <HyperlinkButton Content="Github" NavigateUri="https://github.com/EP012014" />
                                        </StackPanel>
                                    </Grid>
                                </Border>
                                <Border
                                    Height="64"
                                    BorderThickness="1"
                                    BorderBrush="{StaticResource CardBorderBrush}"
                                    Background="{StaticResource CardBackgroundFillColorDefaultBrush}"
                                    CornerRadius="{StaticResource ControlCornerRadius}"
                                    Tapped="UIElement_OnTapped">
                                    <Grid Margin="8">
                                        <StackPanel Orientation="Horizontal" Spacing="12">
                                            <PersonPicture Height="44" ProfilePicture="https://q1.qlogo.cn/g?b=qq&amp;k=L3T8OPGiblT0IMjCLUH3GKA&amp;s=100" />
                                            <StackPanel>
                                                <TextBlock
                                                    Margin="1,0,0,0"
                                                    Style="{StaticResource SubtitleTextBlockStyle}"
                                                    Text="Raspberry Monster" />
                                                <StackPanel Orientation="Horizontal" Spacing="4">
                                                    <TextBlock Text="Developer" />
                                                    <TextBlock Foreground="{StaticResource SystemControlForegroundBaseMediumBrush}" Text="僕が夢を捨てて大人になるまで" />
                                                </StackPanel>
                                            </StackPanel>
                                        </StackPanel>
                                        <StackPanel
                                            HorizontalAlignment="Right"
                                            Orientation="Horizontal"
                                            Tapped="UIElement_OnTapped">
                                            <HyperlinkButton Content="Github" NavigateUri="https://github.com/Raspberry-Monster" />
                                        </StackPanel>
                                    </Grid>
                                </Border>
                                <Border
                                    Height="64"
                                    BorderThickness="1"
                                    BorderBrush="{StaticResource CardBorderBrush}"
                                    Background="{StaticResource CardBackgroundFillColorDefaultBrush}"
                                    CornerRadius="{StaticResource ControlCornerRadius}"
                                    Tapped="UIElement_OnTapped">
                                    <Grid Margin="8">
                                        <StackPanel Orientation="Horizontal" Spacing="12">
                                            <PersonPicture Height="44" ProfilePicture="http://avatar.coolapk.com/data/001/87/30/68_avatar_middle.jpg" />
                                            <StackPanel>
                                                <TextBlock
                                                    Margin="1,0,0,0"
                                                    Style="{StaticResource SubtitleTextBlockStyle}"
                                                    Text="DYNAMIC-CHIN" />
                                                <StackPanel Orientation="Horizontal" Spacing="4">
                                                    <TextBlock Text="新版图标提供 + 新版 UI 设计" />
                                                    <TextBlock Foreground="{StaticResource SystemControlForegroundBaseMediumBrush}" Text="Being Dynamic！" />
                                                </StackPanel>
                                            </StackPanel>
                                        </StackPanel>
                                        <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                            <HyperlinkButton Content="Github" NavigateUri="https://github.com/FunnyTHEWorld" />
                                            <HyperlinkButton Content="酷安" NavigateUri="https://www.coolapk.com/u/1873068" />
                                        </StackPanel>
                                    </Grid>
                                </Border>
                                <Border
                                    Height="64"
                                    BorderThickness="1"
                                    BorderBrush="{StaticResource CardBorderBrush}"
                                    Background="{StaticResource CardBackgroundFillColorDefaultBrush}"
                                    CornerRadius="{StaticResource ControlCornerRadius}"
                                    Tapped="UIElement_OnTapped">
                                    <Grid Margin="8">
                                        <StackPanel Orientation="Horizontal" Spacing="12">
                                            <PersonPicture Height="44" ProfilePicture="https://cn.gravatar.com/avatar/e14c9eb2a52ddb20a3ea5c72766eeffb?s=100" />
                                            <StackPanel>
                                                <TextBlock
                                                    Margin="1,0,0,0"
                                                    Style="{StaticResource SubtitleTextBlockStyle}"
                                                    Text="叫我蓝火火" />
                                                <StackPanel Orientation="Horizontal" Spacing="4">
                                                    <TextBlock Text="热词开发者 + 部分功能实现" />
                                                    <TextBlock Foreground="{StaticResource SystemControlForegroundBaseMediumBrush}" Text="太阳在晒你的同时，你也在晒太阳" />
                                                </StackPanel>
                                            </StackPanel>
                                        </StackPanel>
                                        <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                            <HyperlinkButton Content="Github" NavigateUri="https://github.com/cnbluefire" />
                                        </StackPanel>
                                    </Grid>
                                </Border>
                                <Border
                                    Height="64"
                                    BorderThickness="1"
                                    BorderBrush="{StaticResource CardBorderBrush}"
                                    Background="{StaticResource CardBackgroundFillColorDefaultBrush}"
                                    CornerRadius="{StaticResource ControlCornerRadius}"
                                    Tapped="UIElement_OnTapped">
                                    <Grid Margin="8">
                                        <StackPanel Orientation="Horizontal" Spacing="12">
                                            <PersonPicture Height="44" ProfilePicture="https://discuss.flarum.org.cn/assets/avatars/MfhtDgaco3bsFR6D.png" />
                                            <StackPanel>
                                                <TextBlock
                                                    Margin="1,0,0,0"
                                                    Style="{StaticResource SubtitleTextBlockStyle}"
                                                    Text="Betta_Fish" />
                                                <StackPanel Orientation="Horizontal" Spacing="4">
                                                    <TextBlock Text="部分UI更新" />
                                                    <TextBlock Foreground="{StaticResource SystemControlForegroundBaseMediumBrush}" Text="???" />
                                                </StackPanel>
                                            </StackPanel>
                                        </StackPanel>
                                        <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                            <HyperlinkButton Content="Github" NavigateUri="https://github.com/zxbmmmmmmmmm" />
                                            <HyperlinkButton Content="酷安" NavigateUri="http://www.coolapk.com/u/6052095" />
                                        </StackPanel>
                                    </Grid>
                                </Border>
                                <Border
                                    Height="64"
                                    BorderThickness="1"
                                    BorderBrush="{StaticResource CardBorderBrush}"
                                    Background="{StaticResource CardBackgroundFillColorDefaultBrush}"
                                    CornerRadius="{StaticResource ControlCornerRadius}"
                                    Tapped="UIElement_OnTapped">
                                    <Grid Margin="8">
                                        <StackPanel Orientation="Horizontal" Spacing="12">
                                            <PersonPicture Height="44" ProfilePicture="https://qlogo4.store.qq.com/qzone/2318678921/2318678921/100" />
                                            <StackPanel>
                                                <TextBlock
                                                    Margin="1,0,0,0"
                                                    Style="{StaticResource SubtitleTextBlockStyle}"
                                                    Text="Claris" />
                                                <StackPanel Orientation="Horizontal" Spacing="4">
                                                    <TextBlock Text="Developer" />
                                                    <TextBlock Foreground="{StaticResource SystemControlForegroundBaseMediumBrush}" Text="Confident, Lively And Really ImpreSsive" />
                                                </StackPanel>
                                            </StackPanel>
                                        </StackPanel>
                                        <StackPanel
                                            HorizontalAlignment="Right"
                                            Orientation="Horizontal"
                                            Tapped="UIElement_OnTapped">
                                            <HyperlinkButton Content="Github" NavigateUri="https://github.com/Clrs17" />
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </StackPanel>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup>
                                    <VisualState x:Name="LargeLayout">
                                        <VisualState.StateTriggers>
                                            <AdaptiveTrigger MinWindowWidth="800" />
                                        </VisualState.StateTriggers>
                                        <VisualState.Setters>
                                            <Setter Target="DeveloperPanel.Grid.Row" Value="0" />
                                            <Setter Target="AboutPanel.Grid.Column" Value="1" />

                                        </VisualState.Setters>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                        </Grid>

                    </ScrollViewer>


                </PivotItem>
            </controls1:PivotEx>
        </controls1:PivotView>

    </Grid>
</Page>